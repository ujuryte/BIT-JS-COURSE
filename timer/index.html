<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>
    <div class="card text-bg-dark mb-3" style="max-width: 30rem;">
        <div class="card-header">Timer</div>
        <div class="card-body">
            <div><input class="form-control" type="number" oninput="setTime(this.value)"></div>
            <div class="card-title">
            </div>
            <div class="d-flex">
                <button class="btn btn-primary me-3" onclick="stop()">Stop</button>
                <button class="btn btn-primary me-3" onclick="resume()">Resume</button>
                <button class="btn btn-secondary" onclick="reset()">Reset</button>
            </div>
        </div>
    </div>

    <script>
        // let min = 0;
        // let sec = 5;
        // let interval = 0;

        // const card = document.querySelector('.card-title')

        // const timerID = setInterval(() => {
        //     card.textContent = (min - interval) + ":" + (sec - interval)
        //     if(interval >= sec && interval >= min)
        //         interval = 0
        //     interval++
        // }, 1000)

        // function timer(){
        //     let sec= 5;
        //     let timer = setInterval(() => {
        //         document.querySelector('.card-title').textContent = "00:"+sec;
        //         sec--;
        //         if (sec<0) {
        //             clearInterval(timer)
        //         }
        //     }, 1000)
        // }

        // timer()

        let timerID = 0;
        let currentTime = 0;
        let time = 75; 

        function startTimer(duration, display) {
            let timer = duration, minutes, seconds;
            timerID = setInterval(function () {
                minutes = parseInt(timer / 60)
                seconds = parseInt(timer % 60);

                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;

                display.textContent = minutes + ":" + seconds;

                currentTime = timer;

                if (--timer < 0) {
                    timer = 0;
                    // timer = duration; // uncomment this line to reset timer automatically after reaching 0
                }
            }, 1000);
        }

        window.onload = function () {
                display = document.querySelector('.card-title');
            startTimer(time, display);
        };

        function reset() {
            clearInterval(timerID);
                display = document.querySelector('.card-title');
            startTimer(time, display);
        }

        function stop() {
            clearInterval(timerID);
        }
        
        function resume() {
                display = document.querySelector('.card-title');
            startTimer(currentTime, display);
        }  

        function setTime(val){
            time = val
            reset()
        }




    </script>
</body>

</html>